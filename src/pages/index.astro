---
import Layout from "../layouts/Layout.astro";
import BlogShell from "../components/BlogShell";
import { supabase } from "../lib/supabase";

const { data: posts } = await supabase
	.from("notes")
	.select("*")
	.eq("is_public", true)
	.order("created_at", { ascending: false });
---

<Layout title="Not Notes, Just Posts">
	<BlogShell client:load initialPosts={posts || []} />
</Layout>

<style is:global>
	/* Background needs to be explicitly set for the whole page */
	body {
		background-color: var(--app-bg) !important;
		overflow: hidden;
	}
</style>
